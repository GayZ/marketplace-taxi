Общая структура для всех запросов данного API.

----

h1. HTTP-запрос

|*Метод*|POST|
|*Путь*|/api/integration/rpc|
|*Обязательные заголовки*|@Authorization@: @{apikey}@, где {apikey} - ключ, выдаваемый администрацией HiveTaxi|
|*Опциональные заголовки*|@Accept-Language@: @{locale}@, где {locale} - локаль, соответствующая стандарту "RFC 2616":https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4, которая будет использована для локализации сообщений об ошибках и прочих локализуемых сообщений и атрибутов (пример: en-US)|
|*Тело* (JSON)|object JsonRpcRequest|

h3. object JsonRpcRequest

|_.Атрибут|_.[[Тип|Типы JSON атрибутов]]|_.Обязательность|_.Описание|
|method|string|обязательный|Команда (значение определяется в описании конкретного запроса)|
|version|string|обязательный|Версия (значение определяется в описании конкретного запроса)|
|params|json|опциональный|Параметры ([[тип|Типы JSON атрибутов]] определяется в описании конкретного запроса)|
|id|number|опциональный|Идентификатор запроса (сервер вернет его же в ответе, если присутствует)|

----

h1. HTTP-ответ

|*Статус*|200|
|*Тело* (JSON)|object JsonRpcResponse|

h3. object JsonRpcResponse

|_.Атрибут|_.[[Тип|Типы JSON атрибутов]]|_.Обязательность|_.Описание|
|result|json|опциональный|Результат ([[тип|Типы JSON атрибутов]] определяется в описании конкретного запроса) (в случае успеха)|
|error|object JsonRpcError|опциональный|Ошибка (в случае неудачи)|
|id|number|опциональный|Идентификатор из запроса|

h3. object JsonRpcError

|_.Атрибут|_.[[Тип|Типы JSON атрибутов]]|_.Обязательность|_.Описание|
|code|number|обязательный|[[Код ошибки|Коды ошибок]]|
|message|string|обязательный|Локализованное описание ошибки|

----

h1. Исключительные ситуации

* В случае отсутствия или невалидности заголовка @Authorization@, сервер вернет HTTP-ответ с кодом 401 и локализованным сообщением в теле.

----

h1. См. также

* [[Типы JSON атрибутов]]
* Протокол "JSON-RPC":http://www.jsonrpc.org/specification (в данном API используется измененная версия)